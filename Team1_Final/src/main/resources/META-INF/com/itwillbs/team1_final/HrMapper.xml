<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.team1_final.mapper.HrMapper">
	<insert id="insertHr">
		INSERT INTO hr VALUES (
		null,
		concat(#{DEPT_CD},date_format(now(), '%y'),LPAD((select MAX(IDX) FROM hr)+1,3,'0')),
		#{EMP_NAME},
		#{DEPT_CD},
		#{GRADE_CD},
		#{EMP_TEL},
		#{EMP_DTEL},
		#{EMP_EMAIL},
		#{EMP_POST_NO},
		#{EMP_ADDR},
		date_format(#{HIRE_DATE}, '%Y-%m-%d'),
		'1',
		#{PRIV_CD},
		#{PHOTO}
		);
	</insert>
	
	<select id="selectGradeInfo" resultType="hr">
		SELECT grade.* FROM grade
	</select>
	
	<select id="selectDepartSearch" resultType="hr">
		SELECT DEPT_CD,DEPT_NAME FROM depart WHERE DEPT_NAME LIKE '%${keyword}%';
	</select>
	
</mapper>
